# PhikozzLibrary.FSM - BaseStateMachine

- **BaseStateMachine\<TState\>**은 상태 전이(Enter, Tick, Exit)를 관리하는 범용 상태 머신 추상 클래스입니다.  
  다양한 상태(`IState` 구현체)를 등록하고, 상태 전환 및 상태별 로직을 처리할 수 있습니다.

## IState (interface)

- 상태를 정의하는 인터페이스입니다.  
  각 상태는 아래 메서드를 구현해야 합니다.

| 메서드      | 설명                       |
| ----------- | -------------------------- |
| `Enter()`   | 상태 진입 시 호출           |
| `Tick()`    | 상태 유지 중 매 프레임 호출 |
| `Exit()`    | 상태 종료 시 호출           |

## 주요 메서드

- **AddState(state)**:  
  새로운 상태를 상태 머신에 추가합니다.  
  이미 등록된 상태 타입이면 에러 로그를 출력합니다.

- **GetState\<T\>()**:  
  등록된 상태 중 타입이 `T`인 상태를 반환합니다.  
  없으면 에러 로그를 출력하고 `default`를 반환합니다.

- **SetState\<T\>()**:  
  현재 상태를 타입이 `T`인 상태로 전환합니다.  
  상태 전환 시 이전 상태의 `Exit()`, 새 상태의 `Enter()`가 호출됩니다.

- **Update()**:  
  현재 상태의 `Tick()`을 호출합니다.  
  (Unity의 Update 루프에서 호출 필요)

---

> 상태 머신을 사용하려면 `BaseStateMachine`을 상속받아 각 상태(`IState` 구현체)를 등록하고,  
> 필요에 따라 상태 전환 메서드를 호출하면 됩니다.  
> 상태 전환 시 자동으로 `Enter`, `Exit`, `Tick`이 관리됩니다.
